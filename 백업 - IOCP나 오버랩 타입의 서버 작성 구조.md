IOCP, 오버랩 타입의 서버 작성 구조
* magicpotato.

> just backup

# 1. 접속처리 쓰레드

접속처리만 하는부분이 쓰레드로 빠져야 한다.
비동기 이기 때문에, Connect를 해도 바로 전송이 안되므로,
접속이 완전히 끝난 소켓만 메인 루프로 넘겨주는 쓰레드가 필요하다.
(select()를 쓰는게 가장 편하다)

# 2. 전송과 접속해제 처리

WSASend()에 90메가를 넣어놓고, 중간에 끊으려 하면 끊기지 않는것 같다.
적당히 패킷을 나누어 보내야 하며, 전송시도에 '원격지 때문에 끊긴경우'에는
리턴값이 있기때문에 그 부분에서 처리해 주면 된다.
WSAGetOverlappedResult()는 리턴값이나 에러코드만으로는 부족한거 같다(안해봤음)

# 3. IOCP에 대한 견해

IOCP를 쓰려면 넌블럭킹-오버랩 I/O타입의 소켓과 물려주는것이 최상인것 같다.
그게 아니면 블럭킹, select() 타입의 프로그래밍을 제대로 하는것만 못하는거 같다.

select에 사용되는 fd_set의 관리구조를 최적화 하는것과, select의 인자인 timeout을
조절하는것 만으로도 충분히 비동기처럼 작동되는것처럼 작성할수 있고, 빠르기 때문이다.
오버랩 I/O 및 비동기를 관리할 능력이 없으면 select()부터 시작하는것이 오히려 낫다.

EOF
